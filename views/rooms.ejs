<%- include('partials/head', { pageTitle, hotelName, csrfToken, darkMode }) %>
<%- include('partials/nav') %>
<%- include('partials/alerts') %>

<section class="page-hero" data-animate="fade-up">
  <h1>Suites, Pods &amp; Villas</h1>
  <p>Select from immersive environments designed for explorers, collaborators, and celestial dreamers.</p>
</section>

<section class="room-collection">
  <% rooms.forEach(function(room) { %>
    <article class="room-card detailed" id="<%= room.slug %>" data-animate="fade-up" data-hover-expand tabindex="0">
      <div class="room-media">
        <img src="<%= room.images[0] || '/images/nebula.svg' %>" alt="Suite view of <%= room.name %>" />
      </div>
      <div class="room-body">
        <header class="room-header">
          <div>
            <h2><%= room.name %></h2>
            <p class="room-subtitle"><%= room.description %></p>
          </div>
          <div class="room-rate">
            <span class="rate">$<%= room.pricePerNight %></span>
            <span class="rate-caption">per night</span>
            <span class="availability"><%= room.availability %> available</span>
          </div>
        </header>
        <ul class="room-meta">
          <li><strong>Capacity:</strong> <%= room.capacity %> guests</li>
          <li><strong>Space:</strong> <%= room.squareFeet %> sq ft</li>
          <li><strong>Bed:</strong> <%= room.bedConfig %></li>
          <li><strong>View:</strong> <%= room.view %></li>
        </ul>
        <div class="room-section">
          <h3>Signature Features</h3>
          <ul class="feature-list">
            <% room.features.forEach(function(feature) { %>
              <li><span>✦</span> <%= feature %></li>
            <% }) %>
          </ul>
        </div>
        <div class="room-section">
          <h3>Enhance your stay</h3>
          <div class="addon-chips">
            <% room.addOns.forEach(function(addOn) { %>
              <span class="chip">+ $<%= addOn.price %> — <%= addOn.name %></span>
            <% }) %>
            <span class="chip">+ $80 — Late checkout</span>
            <span class="chip">+ $55 — Sunrise breakfast</span>
          </div>
        </div>
        <div class="room-section availability-widget">
          <div>
            <h3>Availability</h3>
            <p>Check-in as early as tomorrow. Booking flow validates guest capacity and fees in real-time.</p>
          </div>
          <div class="wizard-launch">
            <a class="pill-link primary" href="/book?room=<%= room.id %>">Begin Reservation</a>
            <p class="wizard-note">Guided steps: dates → room → guests → review → payment → confirmation.</p>
          </div>
        </div>
        <div class="card-expand">
          <h4>Orbit Concierge Signal</h4>
          <p>
            Our journey designers recommend syncing <%= room.name %> with the twilight cycle to amplify its immersive panoramas.
          </p>
          <ul class="expand-highlights">
            <li>
              <span>✧</span>
              Dusk sensors magnify the <%= room.view ? room.view.toLowerCase() : 'skyline' %> tableau with responsive halo lighting.
            </li>
            <% if (room.features && room.features.length) { %>
              <li><span>✧</span> Signature spotlight: <%= room.features[0] %> pairs elegantly with ambient soundscapes.</li>
            <% } else { %>
              <li><span>✧</span> Signature spotlight: Dreamwave acoustic canopy adapts to your heartbeat.</li>
            <% } %>
            <li>
              <span>✧</span>
              Pair with <%= room.addOns && room.addOns.length ? room.addOns[0].name : 'a bespoke amenity kit' %> for an arrival ritual curated by our AI concierge.
            </li>
          </ul>
        </div>
      </div>
    </article>
  <% }) %>
</section>

<section class="compare-table" data-animate="fade-up">
  <h2>Compare at a glance</h2>
  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Room</th>
          <th>Capacity</th>
          <th>Space</th>
          <th>View</th>
          <th>From (night)</th>
        </tr>
      </thead>
      <tbody>
        <% rooms.forEach(function(room) { %>
          <tr>
            <td><a href="#<%= room.slug %>"><%= room.name %></a></td>
            <td><%= room.capacity %></td>
            <td><%= room.squareFeet %> sq ft</td>
            <td><%= room.view %></td>
            <td>$<%= room.pricePerNight %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  </div>
</section>

<%- include('partials/footer') %>
