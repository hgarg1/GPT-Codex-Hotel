<%- include('../partials/head', { pageTitle, hotelName, csrfToken, darkMode }) %>
<%- include('../partials/nav') %>
<%- include('../partials/alerts') %>

<section class="auth-card" data-animate="fade-up">
  <h1>Secure your access</h1>
  <p class="muted">Set a personal password to unlock the full administrative console.</p>
  <form action="/auth/password-reset-required" method="post" class="auth-form">
    <input type="hidden" name="_csrf" value="<%= csrfToken %>" />
    <div class="password-field" data-password-container data-enforce>
      <label for="new-password">New password</label>
      <input
        type="password"
        id="new-password"
        name="newPassword"
        required
        aria-describedby="reset-password-guidance"
        data-password-input
      />
      <div class="password-meter">
        <div class="password-meter__track">
          <div class="password-meter__bar" data-password-bar></div>
        </div>
        <p class="password-meter__label" role="status" aria-live="polite">
          Strength: <span data-password-strength>Start typing</span>
        </p>
      </div>
      <ul class="password-criteria" id="reset-password-guidance">
        <li data-password-criterion="length">
          <span class="password-criteria__icon" aria-hidden="true"></span>
          <span>At least 8 characters</span>
        </li>
        <li data-password-criterion="lowercase">
          <span class="password-criteria__icon" aria-hidden="true"></span>
          <span>Includes a lowercase letter</span>
        </li>
        <li data-password-criterion="uppercase">
          <span class="password-criteria__icon" aria-hidden="true"></span>
          <span>Includes an uppercase letter</span>
        </li>
        <li data-password-criterion="number">
          <span class="password-criteria__icon" aria-hidden="true"></span>
          <span>Includes a number</span>
        </li>
        <li data-password-criterion="special">
          <span class="password-criteria__icon" aria-hidden="true"></span>
          <span>Includes a special character</span>
        </li>
      </ul>
    </div>
    <label for="confirm-password">Confirm new password</label>
    <input type="password" id="confirm-password" name="confirmPassword" required />
    <button type="submit" class="cta-button primary" data-password-submit>Update password</button>
  </form>
</section>

<%- include('../partials/footer') %>
